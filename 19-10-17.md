# Web Application Server [ 2019-10-17 ]

### GOAL : 
-------------------------
WAS 개념 이해하기 <br>
WAS 주요 기능 알아보기 <br>


### 공부 내용 :
----------------------------
#### WAS (Web Application Server) 란?
웹 서버로부터 동적 페이지 요청을 받아 처리한 후 그 결과를 웹 서버로 반환 <br>
주로 동적 페이지 생성을 하는 프로그램을 실행하고 데이터베이스 연동 작업을 처리 <br>
웹 애플리케이션과 서버 환경을 만들어 동작시키는 기능을 제공하는 소프트웨어 프레임워크 <br>
DB 조회나 다양한 로직 처리를 요구하는 동적인 컨텐츠를 제공하기 위해 만들어진 Application Server <br>
HTTP를 통해 컴퓨터나 장치에 애플리케이션을 수행해주는 미들웨어 <br>

<strong>웹 컨테이너</strong> 혹은 <strong>서블릿 컨테이너</strong>라고도 불린다.<br>
(Container란? JSP, Servlet을 실행시킬 수 있는 소프트웨어를 말한다. WAS는 JSP, Servlet 구동 환경을 제공한다)

WAS는 Web Server +  Web Container이다.

#### WAS의 주요 기능
- 프로그램 실행 환경과 DB 접속 기능 제공
- 여러 개의 트랜잭션(논리적인 작업 단위) 관리 기능
- 업무를 처리하는 비즈니스 로직 수행


#### Web Server란 ?
하드웨어 측면과 소프트웨어 측면으로 나누어 볼 수 있다.<br>
하드웨어 측면에서는 website의 컴포넌트 파일들을 저장하는 컴퓨터이다. 그리고 이 파일들을 최종 소비자의 디바이스에 전달한다.<br>
소프트웨어 측면에서는 브라우저 클라이언트로부터 HTTP 요청을 받아들이고 HTML 등의 웹 페이지 문서에 반응하는 컴퓨터 프로그램이다.<br>


#### 정적 페이지 와 동적 페이지 차이점
정적 페이지(Static web-page)는 누가 언제 어디서 페이지를 요구하더라도 항상 같은 결과만을 응답하는 페이지이다. <br>
html,css,javascript 등이 해당된다. <br>

동적 페이지(Dynamic web-page)는 클라이언트의 요구나 시간,장소에 따라 그 결과를 다르게 반환하는 페이지이다.<br>
PHP , Python, JavaScript, Java 등의 프로그래밍 코드에 의해 생성된 결과에 따라 페이지 내용이 달라질 수 있다.<Br>


#### WAS 서버 vs Web 서버 차이점

동적 서버 콘텐츠를 수행한다는 것으로 일반 WEB 서버와 구별되며, 주로 데이터베이스 서버와 같이 수행한다.<br>
WAS는 WEB 서버의 기능들을 구조적으로 분리하여 처리하고자하는 목적으로 제시된 것이다.<br>

WEB 서버는 HTML 문서같은 정적 컨텐츠를 처리하는 것이고 (HTTP 프로토콜을 통해 읽힐 수 있는 문서)<br>
WAS 서버는 asp,php,jsp 등 개발 언어를 읽고 처리하여 동적 컨텐츠, 웹 응용 프로그램 서비스를 처리하는 것이다.<br>
( EX ) DB에 조회해서 데이터를 읽어와서 화면에 띄운다. )<br>

즉, 웹 서버는 클라이언트에서 요청이 올 때 가장 앞서서 요청에 대한 처리를 한다.<br>
클라이언트 요청이 정적인 요청이 아니라면 WAS에게 처리를 부탁한다.<br>

#### WAS 동작 프로세스
1. 웹 서버로부터 요청이 오면 컨테이너가 받아서 처리
2. 컨테이너는 web.xml을 참조하여 해당 서블릿에 대한 쓰레드 생성하고 httpServletRequest와 httpServletResponse 객체를 생성하여 전달한다.
3. 컨테이너는 서블릿을 호출한다.
4. 호출된 서블릿의 작업을 담당하게 된 쓰레드는 doPost()또는 doGet()을 호출한다.
5. 호출된 doPost(), doGet() 메소드는 생성된 동적 페이지를 Response 객체에 담아 컨테이너에 전달한다.
6. 컨테이너느 전달받은 Response객체를 HTTPResponse 형태로 바꿔 웹서버에 전달하고 생성되었던 쓰레드를 종료하고 httpServletRequest,httpServletResponse 객체를 소멸시킨다.



#### WAS 와 웹 서버를 분리 시킨 이유

1. 기능을 분리하여 서버 부하 방지 ( WAS 정적인 페이지 처리 동적인 페이지 처리를 다 시키게 되면 서버 부하 발생)
2. 물리적으로 분리하여 보안강화
3. 여러 대의 WAS를 연결 가능 ( 로드밸런싱의 역할 및 fail over, fail back 처리에 유리)
4. 여러 웹 어플리케이션을 서비스 가능


